<div class="app">
    <div class="title">exhibitions-admin-details</div>
    {{exhibitionAltered|json}}
    <form [formGroup]="form">
        <mat-form-field>
            <mat-label>Select a date range</mat-label>
            <mat-date-range-input [rangePicker]="picker">
                <input matStartDate
                    (dateChange)="alteringExhibition()"
                    formControlName="startDate"
                    placeholder="Start date">
                <input matEndDate
                    (dateChange)="alteringExhibition()"
                    formControlName="endDate"
                    placeholder="End date">
            </mat-date-range-input>

            <mat-datepicker-toggle matIconSuffix
                [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>

        <mat-form-field>
            <mat-label>title</mat-label>
            <input type="text"
                (input)="alteringExhibition()"
                matInput
                formControlName="title">
        </mat-form-field>

        <mat-form-field>
            <mat-label>description</mat-label>
            <textarea type="text"
                (input)="alteringExhibition()"
                matInput
                formControlName="description"></textarea>
        </mat-form-field>



        <div class="artists"
            formArrayName="artists">
            <div class="artist"
                *ngFor="let artist of artists().controls; let artistIndex = index">
                <div class="artist-group"
                    [formGroupName]="artistIndex">

                    <mat-form-field>
                        <mat-label>artist first name</mat-label>
                        <input matInput
                            (input)="alteringExhibition()"
                            type="text"
                            formControlName="firstName">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>artist last name</mat-label>
                        <input matInput
                            (input)="alteringExhibition()"
                            type="text"
                            formControlName="lastName">
                    </mat-form-field>
                    <mat-icon matSuffix
                        (click)="removeArtist(artistIndex)">delete_forever</mat-icon>

                </div>
            </div>
            <button class="add-artist-button"
                mat-raised-button
                (click)="addArtist()">add artist</button>
        </div>
        <div class="buttons">


            <button mat-raised-button
                (click)="onSaveOrUpdate()"
                [ngClass]="{exhibitionAlteredConfirm : exhibitionAltered}">{{editmode? 'update': 'add'}}&nbsp;exhibition</button>
            <button mat-raised-button
                (click)="onCancel()"
                [ngClass]="{exhibitionAlteredCancel : exhibitionAltered}">cancel</button>
        </div>
    </form>
</div>
